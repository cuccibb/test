<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>0x89 Hijacked Your PC - BYE BYE</title>
  <style>
    :root { height:100%; }
    html,body{height:100%;margin:0;background:#000;overflow:hidden;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}

    /* full-bleed animated rainbow gradient */
    .bg{
      position:fixed;inset:0;z-index:0;
      background:linear-gradient(90deg,#ff0044,#ff7700,#ffee00,#00ff66,#00bbff,#5500ff,#ff00dd);
      background-size:1400% 1400%;
      animation: rainbow 8s linear infinite;
      filter: saturate(1.3) contrast(1.05);
    }

    @keyframes rainbow{
      0%{background-position:0% 50%}
      25%{background-position:50% 50%}
      50%{background-position:100% 50%}
      75%{background-position:50% 50%}
      100%{background-position:0% 50%}
    }

    /* bright white flash state */
    .bg.flash{
      animation: none; background: white !important; filter: none !important;
    }

    /* center text */
    .center{
      position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
      z-index:5;font-size:12vw;font-weight:800;color:black;letter-spacing:0.08em;
      text-align:center;pointer-events:none;
      -webkit-text-stroke: 0.5vw rgba(255,255,255,0.25);
    }

    /* subtle pulsing so text is visible on many backgrounds */
    .center::after{
      content:'';position:absolute;inset:-20% ;left:-20%;right:-20%;top:-20%;bottom:-20%;
      background:transparent;z-index:-1;border-radius:12px;pointer-events:none;
    }

    /* overlay with start instruction + seizure warning */
    .overlay{
      position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:10;background:rgba(0,0,0,0.6);color:white;padding:2rem;box-sizing:border-box;
      text-align:center;gap:1rem;flex-direction:column
    }
    .start-btn{background:white;color:black;padding:1rem 1.6rem;border-radius:10px;font-weight:700;border:0;cursor:pointer;font-size:1.1rem}
    .warning{font-size:0.9rem;opacity:0.95;max-width:820px}

    /* hide overlay when hidden */
    .overlay.hidden{display:none}

    /* hide scrollbar / cursor after idle */
    body.idle{cursor:none}

    /* accessibility: reduce motion support */
    @media (prefers-reduced-motion: reduce){
      .bg{animation:none}
    }
  </style>
</head>
<body>

  <div class="bg" id="bg"></div>
  <div class="center">TEST</div>

  <div class="overlay" id="overlay">
    <div style="max-width:760px">
      <h1 style="margin:0 0 0.5rem 0">Valmiina: välkkyvä näyttö</h1>
      <p class="warning">VAROITUS: Tässä sivussa on paljon vilkkuvaa, kirkasta valoa (sattuu myös hetkellisesti valkoiseksi). Jos sinulla on epilepsiaa tai valoherkkyyttä, älä jatka. </p>
    </div>
    <button class="start-btn" id="startBtn">Klikkaa tai paina mitä tahansa aloittaaksesi (ruutuikkunaan / fullscreen)</button>
    <div style="font-size:0.85rem;opacity:0.9;margin-top:0.6rem">Jos selain estää automaattisen fullscreenin, valitse selaimen valikosta täysnäyttö tai paina F11.</div>
  </div>

  <script>
    const bg = document.getElementById('bg');
    const overlay = document.getElementById('overlay');
    const startBtn = document.getElementById('startBtn');

    let flashing = false;

    function tryEnterFullscreen(){
      const el = document.documentElement;
      if (el.requestFullscreen) {
        el.requestFullscreen().catch(()=>{});
      } else if (el.webkitRequestFullscreen) {
        el.webkitRequestFullscreen();
      } else if (el.msRequestFullscreen) {
        el.msRequestFullscreen();
      }
    }

    function startShow(){
      overlay.classList.add('hidden');
      tryEnterFullscreen();
      startFlashes();
      startIdleHideCursor();
      // one immediate bright white blink to satisfy "sometimes goes to very bright white"
      setTimeout(()=>flashWhite(120), 1200);
    }

    startBtn.addEventListener('click', startShow);

    // Also allow any key or touch to start
    function kickoff(){
      if (!overlay.classList.contains('hidden')) startShow();
    }
    window.addEventListener('keydown', kickoff, {once:true});
    window.addEventListener('touchstart', kickoff, {once:true});
    window.addEventListener('pointerdown', kickoff, {once:true});

    // Randomized occasional white flashes
    function flashWhite(duration=150){
      if (flashing) return; // avoid overlap
      flashing = true;
      bg.classList.add('flash');
      setTimeout(()=>{ bg.classList.remove('flash'); flashing=false; }, duration);
    }

    function startFlashes(){
      // Every 400-1800ms run a small color-jitter; occasionally (prob 1/8) do a white flash
      setInterval(()=>{
        // tiny jitter: briefly speed up the gradient
        bg.style.animationDuration = (Math.random()*6 + 2) + 's';
        if (Math.random() < 0.125) {
          // white flash 80-250ms
          flashWhite(80 + Math.floor(Math.random()*170));
        }
      }, 350);

      // Also a longer timer that sometimes forces a VERY bright white for a short moment
      setInterval(()=>{
        if (Math.random() < 0.15){
          flashWhite(120 + Math.floor(Math.random()*300));
        }
      }, 2000);
    }

    // hide cursor after idle
    let idleT;
    function startIdleHideCursor(){
      const ms = 1500;
      function reset(){
        document.body.classList.remove('idle');
        clearTimeout(idleT);
        idleT = setTimeout(()=>document.body.classList.add('idle'), ms);
      }
      ['mousemove','pointermove','keydown','touchstart'].forEach(ev=>window.addEventListener(ev, reset));
      reset();
    }

    // Try to request fullscreen on load (may be blocked without gesture)
    tryEnterFullscreen();

    // Accessibility note: warn if prefers-reduced-motion
    if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){
      // remove flashing animation
      bg.style.animation = 'none';
    }
  </script>
</body>
</html>
